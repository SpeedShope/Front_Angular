<!DOCTYPE html>

<html >

  <head>
    <title>Verify Account</title>
    
  </head>
  <body>
    <div class="container">
      <h2>Verify Your Account</h2>
      <p>We send you the six digit code to your mail adress <br/> Enter the code below to confirm your email address.</p>
      <div class="code-container">
        <input type="text" class="code" placeholder="" [(ngModel)]="code1" min="0" max="1" required (input)="onCodeChange()">
        <input type="text" class="code" placeholder="" min="0" max="1" required [(ngModel)]="code2" (input)="onCodeChange()">
        <input type="text" class="code" placeholder="" min="0" max="1" required [(ngModel)]="code3" (input)="onCodeChange()">
        <input type="text" class="code" placeholder="" min="0" max="1" required [(ngModel)]="code4" (input)="onCodeChange()">
        <input type="text" class="code" placeholder="" min="0" max="1" required [(ngModel)]="code5" (input)="onCodeChange()">
        <input type="text" class="code" placeholder="" min="0" max="1" required [(ngModel)]="code6" (input)="onCodeChange()">
      </div>
      <small class="info">
       
        <button class="btn btn-primary" (click)="verifyOTP()">
            Verify Codes and Continue
        </button>
        
      </small>
      <button class="btn btn-link " (click)="OTPRESEND()">
        Resend ME THE CODE 
    </button>
      <p>The entered code is: {{ enteredCode }}</p>
      <h1 [ngStyle]="isVerified ? {'color': 'green'} : {'color': 'red'}">{{OTPmsg}}</h1>

    </div>
    <script >
    const codes = document.querySelectorAll('.code')

codes[0].focus()

codes.forEach((code, idx) => {
   code.addEventListener('keydown', (e) => {
       if(e.key >= 0 && e.key <=9) {
           codes[idx].value = ''
           setTimeout(() => codes[idx + 1].focus(), 10)
       } else if(e.key === 'Backspace') {
           setTimeout(() => codes[idx - 1].focus(), 10)
       }
   })
})
    </script>
  </body>

</html>